<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="SeaSunny Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="SeaSunny Blog Atom Feed"><title data-react-helmet="true">Kubernetes组件介绍 | SeaSunny</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Kubernetes组件介绍 | SeaSunny"><meta data-react-helmet="true" name="description" content="Kubernetes组件"><meta data-react-helmet="true" property="og:description" content="Kubernetes组件"><meta data-react-helmet="true" property="og:url" content="https://cheungchn.github.io/docs/kubernetes/introduceComponents"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://cheungchn.github.io/docs/kubernetes/introduceComponents"><link rel="stylesheet" href="/styles.db62a8a8.css">
<link rel="preload" href="/styles.4969db88.js" as="script">
<link rel="preload" href="/runtime~main.73b96f04.js" as="script">
<link rel="preload" href="/main.23ad20ac.js" as="script">
<link rel="preload" href="/1.a34d610a.js" as="script">
<link rel="preload" href="/42.60d7d8a4.js" as="script">
<link rel="preload" href="/43.6c3438d3.js" as="script">
<link rel="preload" href="/935f2afb.1830e10f.js" as="script">
<link rel="preload" href="/41.f797e702.js" as="script">
<link rel="preload" href="/54516559.9266a432.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top navbarHideable_17Wu navbarHidden_19ww"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">SeaSunny</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/kubernetes/installSingle">Kubernetes</a><a class="navbar__item navbar__link" href="/docs/linux/OSInstall">Linux</a><a class="navbar__item navbar__link" href="/docs/monitor/prometheus">监控</a><a class="navbar__item navbar__link" href="/docs/bigData/Ambari">大数据</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">SeaSunny</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/kubernetes/installSingle">Kubernetes</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/linux/OSInstall">Linux</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/monitor/prometheus">监控</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/bigData/Ambari">大数据</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy sidebarWithHideableNavbar_CROi"><a tabindex="-1" class="sidebarLogo_xFc8" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp"><strong>SeaSunny</strong></a><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLinkText_yu3-">Kubernetes介绍</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/kubernetes/introduceComponents">Kubernetes组件介绍</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_yu3-">安装Kuberbetes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/kubernetes/installSingle">安装Kubernetes单Master节点</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/kubernetes/1.20/installSingleContained">弃用Docker安装Kubernetes1.20.X</a></li></ul></li></ul></div><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_2WRA"><svg width="20" height="20" role="img" class="collapseSidebarButtonIcon_CoMu"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Kubernetes组件介绍</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="kubernetes组件"></a>Kubernetes组件<a class="hash-link" href="#kubernetes组件" title="Direct link to heading">#</a></h2><p>部署 Kubernetes 时，获取群集。</p><p>Kubernetes集群由一组工作机器组成，称为节点，运行容器化应用程序。每个群集至少有一个工作节点。</p><p>Node组件承载Pods是应用程序工作负载的组件。Master组件管理群集中的工作节点和 Pod。在生产环境中，Master组件通常跨多台计算机运行，群集通常运行多个节点，提供容错和高可用性。</p><p>本文档概述了拥有完整且工作正常的 Kubernetes 群集所需的各种组件。</p><p>下面是 Kubernetes 群集的图表，该群集将所有组件绑定在一起
<img src="https://gitee.com/CodeSilo/gopic/raw/master/img/2020/12/20201210110025.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="master组件"></a>Master组件<a class="hash-link" href="#master组件" title="Direct link to heading">#</a></h2><p>Master组件对群集（例如，调度）做出全局决策，以及检测和响应群集事件</p><p>Master组件可以在群集中的任何计算机上运行。但是为了简洁性，设置脚本通常会在同一台计算机上启动所有Master组件，并且不在此计算机上运行用户容器</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="kube-apiserver"></a>kube-apiserver<a class="hash-link" href="#kube-apiserver" title="Direct link to heading">#</a></h3><p>此 master 组件提供 Kubernetes API。这是Kubernetes控制平台的前端（front-end），可以水平扩展（通过部署更多的实例以达到性能要求）。kubectl / kubernetes dashboard / kuboard 等Kubernetes管理工具就是通过 kubernetes API 实现对 Kubernetes 集群的管理。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="etcd"></a>etcd<a class="hash-link" href="#etcd" title="Direct link to heading">#</a></h3><p>支持一致性和高可用的名值对存储组件，Kubernetes集群的所有配置信息都存储在 etcd 中。请确保<a href="https://kubernetes.io/docs/tasks/administer-cluster/configure-upgrade-etcd/#backing-up-an-etcd-cluster" target="_blank" rel="noopener noreferrer">备份</a>etcd的数据。关于 etcd 的更多信息，可参考 <a href="https://etcd.io/docs/" target="_blank" rel="noopener noreferrer">etcd 官方文档</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="kube-scheduler"></a>kube-scheduler<a class="hash-link" href="#kube-scheduler" title="Direct link to heading">#</a></h3><p>此 master 组件监控所有新创建尚未分配到节点上的 Pod，并且自动选择为 Pod 选择一个合适的节点去运行。</p><p>影响调度的因素有：</p><ul><li>单个或多个 Pod 的资源需求</li><li>硬件、软件、策略的限制</li><li>亲和与反亲和（affinity and anti-affinity）的约定</li><li>数据本地化要求</li><li>工作负载间的相互作用</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="kube-controller-manager"></a>kube-controller-manager<a class="hash-link" href="#kube-controller-manager" title="Direct link to heading">#</a></h4><p>此 master 组件运行了所有的控制器</p><p>逻辑上来说，每一个控制器是一个独立的进程，但是为了降低复杂度，这些控制器都被合并运行在一个进程里。</p><p>kube-controller-manager 中包含的控制器有：</p><ul><li>节点控制器： 负责监听节点停机的事件并作出对应响应</li><li>副本控制器： 负责为集群中每一个 副本控制器对象（Replication Controller Object）维护期望的 Pod 副本数</li><li>端点（Endpoints）控制器：负责为端点对象（Endpoints Object，连接 Service 和 Pod）赋值</li><li>Service Account &amp; Token控制器： 负责为新的名称空间创建 default Service Account 以及 API Access Token</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="cloud-controller-manager"></a>cloud-controller-manager<a class="hash-link" href="#cloud-controller-manager" title="Direct link to heading">#</a></h3><p>cloud-controller-manager 允许您将群集链接到云提供商的 API，并分离出与该云平台交互的组件与刚刚与群集交互的组件。
cloud-controller-manager 仅运行特定于您的云提供商的控制器。如果您在自己的本地或您自己的 PC 内的学习环境中运行 Kubernetes，则群集没有云控制器管理器。</p><p>与 kube 控制器管理器一样，云控制器管理器将多个逻辑上独立的控制循环合并到一个二进制文件中，作为单个进程运行。您可以水平缩放（运行多个副本）以提高性能或帮助容忍故障。</p><p>以下控制器可以具有云提供程序依赖项：</p><ul><li>节点控制器：用于检查云提供程序以确定节点在停止响应后是否已在云中删除</li><li>路由控制器：用于在底层云基础结构中设置路由</li><li>服务控制器：用于创建、更新和删除云提供商负载均衡器</li><li>数据卷（Volume）控制器：创建、绑定、挂载数据卷，并协调云供应商编排数据卷</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="node组件"></a>Node组件<a class="hash-link" href="#node组件" title="Direct link to heading">#</a></h2><p>Node 组件运行在每一个节点上（包括 master 节点和 worker 节点），负责维护运行中的 Pod 并提供 Kubernetes 运行时环境。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="kubelet"></a>kubelet<a class="hash-link" href="#kubelet" title="Direct link to heading">#</a></h3><p>此组件是运行在每一个集群节点上的代理程序。它确保 Pod 中的容器处于运行状态。Kubelet 通过多种途径获得 PodSpec 定义，并确保 PodSpec 定义中所描述的容器处于运行和健康的状态。Kubelet不管理不是通过 Kubernetes 创建的容器。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="kube-proxy"></a>kube-proxy<a class="hash-link" href="#kube-proxy" title="Direct link to heading">#</a></h3><p>kube-proxy 是一个网络代理程序，运行在集群中的每一个节点上，是实现 Kubernetes Service 概念的重要部分。</p><p>kube-proxy 在节点上维护网络规则。这些网络规则使得您可以在集群内、集群外正确地与 Pod 进行网络通信。如果操作系统中使用 packet filtering layer (如果有且可用)，kube-proxy 将使用这一特性（iptables代理模式），否则，kube-proxy将自行转发网络请求（User space代理模式）</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="容器引擎"></a>容器引擎<a class="hash-link" href="#容器引擎" title="Direct link to heading">#</a></h3><p>容器引擎负责运行容器。Kubernetes支持多种容器引擎：Docker 、containerd 、cri-o 、rktlet 以及任何实现了 Kubernetes容器引擎接口的容器引擎</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="addons"></a>Addons<a class="hash-link" href="#addons" title="Direct link to heading">#</a></h2><p>Addons 使用 Kubernetes 资源（DaemonSet、Deployment等）实现集群的功能特性。由于他们提供集群级别的功能特性，addons使用到的Kubernetes资源都放置在 kube-system 名称空间下。</p><p>下面描述了一些经常用到的 addons，参考 <a href="https://kubernetes.io/docs/concepts/cluster-administration/addons/" target="_blank" rel="noopener noreferrer">Addons</a>查看更多列表</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="dns"></a>DNS<a class="hash-link" href="#dns" title="Direct link to heading">#</a></h3><p>除了 DNS Addon 以外，其他的 addon 都不是必须的，所有 Kubernetes 集群都应该有 Cluster DNS</p><p>Cluster DNS 是一个 DNS 服务器，是对您已有环境中其他 DNS 服务器的一个补充，存放了 Kubernetes Service 的 DNS 记录。</p><p>Kubernetes 启动容器时，自动将该 DNS 服务器加入到容器的 DNS 搜索列表中。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="web-ui（dashboard）"></a>Web UI（Dashboard）<a class="hash-link" href="#web-ui（dashboard）" title="Direct link to heading">#</a></h3><p><a href="https://kubernetes.io/docs/tasks/access-application-cluster/web-ui-dashboard/" target="_blank" rel="noopener noreferrer">Dashboard</a>是一个Kubernetes集群的 Web 管理界面。用户可以通过该界面管理集群</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="containerresource-monitoring"></a>ContainerResource Monitoring<a class="hash-link" href="#containerresource-monitoring" title="Direct link to heading">#</a></h3><p><a href="https://kubernetes.io/docs/tasks/debug-application-cluster/resource-usage-monitoring/" target="_blank" rel="noopener noreferrer">Container Resource Monitoring</a>将容器的度量指标（metrics）记录在时间序列数据库中，并提供了 UI 界面查看这些数据</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="cluster-level-logging"></a>Cluster-level Logging<a class="hash-link" href="#cluster-level-logging" title="Direct link to heading">#</a></h3><p><a href="https://kubernetes.io/docs/concepts/cluster-administration/logging/" target="_blank" rel="noopener noreferrer">Cluster-level logging</a>)机制负责将容器的日志存储到一个统一存储中，并提供搜索浏览的界面</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/kubernetes/installSingle"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">安装Kubernetes单Master节点 »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#kubernetes组件" class="table-of-contents__link">Kubernetes组件</a></li><li><a href="#master组件" class="table-of-contents__link">Master组件</a><ul><li><a href="#kube-apiserver" class="table-of-contents__link">kube-apiserver</a></li><li><a href="#etcd" class="table-of-contents__link">etcd</a></li><li><a href="#kube-scheduler" class="table-of-contents__link">kube-scheduler</a></li><li><a href="#cloud-controller-manager" class="table-of-contents__link">cloud-controller-manager</a></li></ul></li><li><a href="#node组件" class="table-of-contents__link">Node组件</a><ul><li><a href="#kubelet" class="table-of-contents__link">kubelet</a></li><li><a href="#kube-proxy" class="table-of-contents__link">kube-proxy</a></li><li><a href="#容器引擎" class="table-of-contents__link">容器引擎</a></li></ul></li><li><a href="#addons" class="table-of-contents__link">Addons</a><ul><li><a href="#dns" class="table-of-contents__link">DNS</a></li><li><a href="#web-ui（dashboard）" class="table-of-contents__link">Web UI（Dashboard）</a></li><li><a href="#containerresource-monitoring" class="table-of-contents__link">ContainerResource Monitoring</a></li><li><a href="#cluster-level-logging" class="table-of-contents__link">Cluster-level Logging</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 HiCodeSilo, Inc. 联系我：hicodesilo@hotmail.com</div></div></div></footer></div>
<script src="/styles.4969db88.js"></script>
<script src="/runtime~main.73b96f04.js"></script>
<script src="/main.23ad20ac.js"></script>
<script src="/1.a34d610a.js"></script>
<script src="/42.60d7d8a4.js"></script>
<script src="/43.6c3438d3.js"></script>
<script src="/935f2afb.1830e10f.js"></script>
<script src="/41.f797e702.js"></script>
<script src="/54516559.9266a432.js"></script>
</body>
</html>